import numpy as np
import matplotlib.pyplot as plt
plt.rcParams["font.sans-serif"] = ["SimHei"]  # 设置字体中文乱码问题
plt.rcParams["axes.unicode_minus"] = False  # 该语句解决图像中的“-”负号的乱码问题
y_attack = [-0.3729304,-0.3708437,-0.36846614,-0.36589897,-0.3640032,-0.36256197,-0.36097318,-0.35980862,-0.35837603,-0.35772735,-0.35709846,-0.3567709,-0.35598654,-0.35605657,-0.35597938,-0.35611826,-0.3549928,-0.3542625,-0.35407674,-0.35352725,-0.35282946,-0.35177523,-0.351488,-0.34977746,-0.34755978,-0.34349924,-0.34087905,-0.33841902,-0.3368742,-0.3353504,-0.3338736,-0.33293754,-0.3324774,-0.33243087,-0.33134627,-0.3313012,-0.33187988,-0.33350724,-0.33380246,-0.33342582,-0.33320248,-0.33315647,-0.33268481,-0.33214632,-0.33242244,-0.33175525,-0.3300311,-0.32742357,-0.32411733,-0.3204778,-0.31729585,-0.315488,-0.31399196,-0.31309015,-0.3134755,-0.3132521,-0.31215692,-0.3116899,-0.31338835,-0.31566346,-0.31902218,-0.32359767,-0.32777107,-0.33059466,-0.33254352,-0.33392477,-0.33512688,-0.33731183,-0.33876407,-0.3397835,-0.34005833,-0.34103906,-0.34158427,-0.34097743,-0.34015167,-0.33919138,-0.3381253,-0.33715755,-0.3349265,-0.33186442,-0.32920182,-0.326573,-0.32365027,-0.31995183,-0.31802422,-0.316971,-0.3152845,-0.31286654,-0.31047273,-0.3097857,-0.30996007,-0.3101033,-0.30977613,-0.30939174,-0.31008673,-0.31170124,-0.31137055,-0.3108759,-0.31183344,-0.31426975,-0.3171891,-0.317383,-0.31624228,-0.31411874,-0.31283212,-0.31205064,-0.310902,-0.30837774,-0.30630836,-0.30443212,-0.30332178,-0.30239266,-0.30140156,-0.29872456,-0.29684472,-0.29620564,-0.29520988,-0.2951167,-0.29489678,-0.2953395,-0.29731977,-0.29875076,-0.29859102,-0.29810572,-0.2970271,-0.297832,-0.2986044,-0.29880023,-0.29860735,-0.29723802,-0.29594284,-0.29575315,-0.2940428,-0.29207343,-0.29034907,-0.2888912,-0.28726536,-0.2860244,-0.284788,-0.28386474,-0.282804,-0.2814478,-0.2799546,-0.27777267,-0.27535415,-0.27387378,-0.2735744,-0.27293396,-0.27251017,-0.27242595,-0.2722228,-0.27171874,-0.27172136,-0.2706141,-0.2689898,-0.26831064,-0.2677213,-0.2679075,-0.26756358,-0.26719344,-0.26662296,-0.2660721,-0.26659855,-0.2690186,-0.27229476,-0.27745795,-0.28309485,-0.28545886,-0.28828555,-0.2891469,-0.2901981,-0.29080433,-0.29133192,-0.29163232,-0.28989214,-0.28512964,-0.27947605,-0.27430534,-0.26990196,-0.26870865,-0.2676332,-0.26654682,-0.2639792,-0.26120496,-0.2583713,-0.2555364,-0.2546596,-0.25527042,-0.25607157,-0.25669113,-0.25685325,-0.255665,-0.25444892,-0.2538537,-0.25415784,-0.2546183,-0.25561056,-0.25697586,-0.25844315,-0.25962046,-0.26123288,-0.2616846,-0.26090097,-0.26076344,-0.26051593,-0.2602669,-0.26029617,-0.26047638,-0.26092875,-0.260939,-0.2611413,-0.26181853,-0.2628943,-0.26426095,-0.26627058,-0.26816797,-0.2696761,-0.2720657,-0.27515158,-0.27785477,-0.28078917]
y_normal = [-0.26242232,-0.2622805,-0.26213092,-0.26196876,-0.2618033,-0.26164228,-0.26149696,-0.26138645,-0.26131022,-0.26124528,-0.2612198,-0.26122552,-0.26124984,-0.26129082,-0.26134023,-0.2614137,-0.2614925,-0.261577,-0.2616569,-0.26172376,-0.2617479,-0.26175702,-0.2617401,-0.2616877,-0.26160762,-0.26151264,-0.26139355,-0.2612481,-0.26110452,-0.26094815,-0.26078558,-0.26063022,-0.26051816,-0.2604455,-0.26038805,-0.2603603,-0.2603622,-0.26037827,-0.26041707,-0.26046795,-0.26050165,-0.2605409,-0.260607,-0.26067993,-0.26074284,-0.2607989,-0.2608647,-0.2608933,-0.2608881,-0.2608769,-0.2608293,-0.26074475,-0.26062706,-0.26048535,-0.26031637,-0.26013947,-0.25998056,-0.2598185,-0.25965098,-0.2595133,-0.2594099,-0.25931597,-0.25926146,-0.2592382,-0.25926203,-0.25931555,-0.25937334,-0.2594312,-0.25948274,-0.25954247,-0.25959742,-0.2596421,-0.25967824,-0.2596884,-0.25964913,-0.2595882,-0.25949258,-0.2593709,-0.25923884,-0.25910598,-0.25895107,-0.2587888,-0.2586405,-0.25851244,-0.2583855,-0.25827017,-0.25818735,-0.25813383,-0.258102,-0.25810257,-0.25812116,-0.25814876,-0.25818253,-0.2582273,-0.25825655,-0.25828338,-0.25830224,-0.25831592,-0.2582925,-0.25821856,-0.2581213,-0.25798887,-0.25783917,-0.2576707,-0.2574942,-0.25730678,-0.25713918,-0.25696763,-0.25681534,-0.2566812,-0.25660622,-0.25657636,-0.25657865,-0.25660986,-0.25665388,-0.256707,-0.25678197,-0.25685892,-0.25693077,-0.25699258,-0.25704363,-0.25708875,-0.25711215,-0.25709468,-0.257032,-0.25694486,-0.25683117,-0.2566805,-0.25650054,-0.25631166,-0.256115,-0.25593913,-0.25576723,-0.25559422,-0.25543076,-0.25531554,-0.25524527,-0.25520495,-0.2552005,-0.25523373,-0.2552997,-0.25538188,-0.25547385,-0.25555626,-0.25564015,-0.25572544,-0.2558037,-0.25587562,-0.25593802,-0.2559818,-0.2559864,-0.2559616,-0.2559006,-0.2558122,-0.25569385,-0.25556403,-0.2554219,-0.25526083,-0.2551054,-0.2549543,-0.25481737,-0.25469393,-0.25459617,-0.25452733,-0.2544872,-0.25446802,-0.2544767,-0.25450093,-0.2545424,-0.25461334,-0.25468203,-0.25475106,-0.2547999,-0.25485024,-0.25490555,-0.25495768,-0.2549856,-0.25498146,-0.25493896,-0.2548594,-0.25475553,-0.25485045,-0.25493607,-0.25664738,-0.25858563,-0.2608454,-0.26370472,-0.26677293,-0.2702589,-0.2741961,-0.27756503,-0.28110075,-0.28316438,-0.285196,-0.28546947,-0.28359014,-0.28047094,-0.27594104,-0.270804,-0.26456067,-0.26025072,-0.25791478,-0.25557652,-0.2526468,-0.25098673,-0.2491112,-0.24906875,-0.2496371,-0.25131595,-0.2524975,-0.25374573,-0.25603694,-0.25529763,-0.2522108,-0.24981293,-0.24798912,-0.24642351,-0.2449933,-0.24347463,-0.24176402,-0.23990783]
data_attack = [0.2729987,0.27286366,0.27275194,0.27265169,0.27268711,0.27280936,0.27314225,0.27346321,0.27378629,0.27421398,0.2744493,0.27460317,0.27472154,0.27468265,0.27472021,0.27466063,0.27464239,0.27457431,0.27448425,0.27438619,0.2745659,0.27451356,0.27436974,0.27429671,0.27421838,0.27407674,0.27381944,0.27369325,0.27360629,0.27359413,0.27366237,0.27408204,0.27445094,0.27471766,0.27500627,0.27526988,0.27536806,0.27551966,0.27558808,0.27544093,0.27550588,0.27557284,0.27555357,0.27544743,0.27533651,0.27541535,0.27534096,0.27524429,0.27517177,0.27504513,0.27496534,0.27502209,0.27502209,0.27475794,0.27465357,0.27466789,0.27463906,0.27460082,0.27498497,0.27530083,0.27530083,0.27562008,0.27598981,0.27645329,0.27674485,0.27681039,0.27679953,0.27659583,0.27661636,0.276644,0.27665845,0.27655593,0.27643331,0.276273,0.27626358,0.27616246,0.27609264,0.27610508,0.27609592,0.27597123,0.27588522,0.27597073,0.2761077,0.27611228,0.27631458,0.27675998,0.27701333,0.27732853,0.27757613,0.27771886,0.27771886,0.27786725,0.27786721,0.27777929,0.27767161,0.27766378,0.27772053,0.27776802,0.27766662,0.27772671,0.27758018,0.27750842,0.27740238,0.27747044,0.27733764,0.2774417,0.27736139,0.27745485,0.27757844,0.27808333,0.27859389,0.27892991,0.27921132,0.27934824,0.27946364,0.27963951,0.27964088,0.27950015,0.27946883,0.27932008,0.27922166,0.27899869,0.27896022,0.27890772,0.27883757,0.27882307,0.27882724,0.2787293,0.27870587,0.27862735,0.27872014,0.27870011,0.27867169,0.27870917,0.27917503,0.2796776,0.27990481,0.28020997,0.28066401,0.28092367,0.28101058,0.28102717,0.28086282,0.28079751,0.28078467,0.28070792,0.28058457,0.28052806,0.28039193,0.28025886,0.28025886,0.28011815,0.28000695,0.27990525,0.27985584,0.27977306,0.2797426,0.27975824,0.27970949,0.27977527,0.2798657,0.28021049,0.2805683,0.28086617,0.2810892,0.2813513,0.28143788,0.28150487,0.28170559,0.28165487,0.28155595,0.28144454,0.2813711,0.28140265,0.28140484,0.28135853,0.28132565,0.28124995,0.28115277,0.28101103,0.28085132,0.28082,0.28071623,0.28084793,0.28075518,0.28072737,0.28076921,0.28101621,0.28137536,0.2817651,0.28211975,0.28227284,0.27830392,0.27835392,0.25834309,0.25569442,0.25146953,0.24380959,0.2409876,0.23598843,0.23043437,0.23761549,0.2356506,0.25376271,0.25288792,0.27482068,0.28099706,0.29389633,0.30733325,0.30733325,0.31835986,0.28429822,0.2549926,0.26208672,0.26750328,0.2696779,0.27191229,0.27059861,0.2694491,0.26838342,0.28816653]
data_normal = [0.54590235,0.54591941,0.54587215,0.54505808,0.54507999,0.54529897,0.54574767,0.54602815,0.54601941,0.54632651,0.54653445,0.54696146,0.54705239,0.54683034,0.54668151,0.54672836,0.54666669,0.54654007,0.54627397,0.54627648,0.54635346,0.5470422,0.54689861,0.54657566,0.54634094,0.54631886,0.54628163,0.54615009,0.54619459,0.54556497,0.54579992,0.54601654,0.54632156,0.54681353,0.54697918,0.54702068,0.54683526,0.54665903,0.54659185,0.54659185,0.5464233,0.54643468,0.54625626,0.5462774,0.54606283,0.54620362,0.54693018,0.54673787,0.54659304,0.54631026,0.54596739,0.54600906,0.54476376,0.5447019,0.54521448,0.54591058,0.54640552,0.54833278,0.54848749,0.54840462,0.548292,0.54802059,0.54772567,0.5464834,0.54647913,0.54663909,0.54664733,0.54659631,0.54657988,0.54657988,0.54629389,0.54713515,0.54708419,0.54698498,0.54668827,0.546447,0.54621893,0.54635194,0.54655842,0.54687367,0.54689574,0.54747708,0.54781558,0.54813664,0.54963162,0.54988701,0.54978289,0.54994228,0.54932276,0.54939563,0.54981664,0.5498968,0.54988544,0.54978769,0.54970302,0.54980566,0.54973707,0.54990216,0.54827361,0.54818894,0.54851679,0.54862382,0.54870133,0.54857677,0.54870493,0.54978245,0.55002238,0.54863871,0.54885522,0.55026246,0.55052916,0.55090148,0.55117465,0.55114889,0.55114889,0.55111656,0.55220741,0.55212561,0.55127302,0.55032078,0.55021253,0.55016714,0.55174015,0.55218024,0.55200478,0.55191298,0.55014519,0.55017227,0.55014924,0.54990558,0.54997311,0.55010184,0.55038916,0.55070379,0.55099282,0.55116417,0.55130892,0.55147219,0.55150877,0.55150877,0.55147902,0.55129158,0.55139678,0.55137913,0.55084587,0.55055953,0.55042055,0.55035568,0.55033612,0.55036719,0.55103771,0.55097523,0.55063986,0.55061673,0.54915238,0.54905518,0.54927884,0.54961051,0.54972995,0.55019099,0.55060968,0.55070942,0.55101691,0.550915,0.55049056,0.55040115,0.55023844,0.55031094,0.55037363,0.55052091,0.55032726,0.54990681,0.54949,0.54914069,0.54898668,0.54904639,0.54903082,0.54892774,0.5488919,0.54870135,0.54873747,0.5490414,0.5490414,0.55011886,0.55074184,0.55107501,0.55029054,0.55020838,0.55005275,0.55006045,0.54997852,0.5502451,0.55027173,0.5507331,0.55050318,0.55025445,0.55007222,0.54991415,0.549488,0.54922698,0.54906547,0.54915778,0.54926721,0.54936676,0.54937575,0.54960825,0.54970767,0.54965906,0.54983108,0.55014649,0.55074531,0.55105936,0.551054,0.55071744,0.55056069,0.55048689,0.55048689,0.55032651,0.54997866,0.54961916,0.54948263]
if __name__ == '__main__':
    x = range(71)
    no = y_normal[150:]
    at = np.empty(20)
    for i in range(20):
        at[i] = no[i] - 0.0015
    at = np.append(at,y_normal[150:201])
    print((len(at)))
    plt.figure(figsize=(8, 6))

    plt.subplot(2, 1, 1)
    plt.plot(x, no, label='原始数据')
    plt.plot(x, at, 'r', label='异常数据')
    plt.title('异常得分')
    plt.xlabel('点索引')
    plt.ylabel('数值')
    plt.legend(fontsize='7')

    plt.subplot(2, 1, 2)
    plt.plot(x, data_attack[150:], 'r', label='异常数据')
    plt.plot(x, data_normal[150:], label='正常数据')
    plt.title('原始数据')
    plt.xlabel('点索引')
    plt.ylabel('数值')
    plt.legend(fontsize='7')
    plt.tight_layout()
    plt.show()